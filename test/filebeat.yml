filebeat.inputs:
- type: log
  enabled: true
  paths:
    - access_short.log
  tags: ["Filebeat-ING gfme-gateway"]

  #================================ Processors =====================================

  # Configure processors to enhance or manipulate events generated by the beat.

# input example for the grok: 2019-02-08T11:41:24.788+0100    INFO    [testmonitoring]        log/log.go:144  This is an info message

processors:
  - grok:
      patterns: ["\\[%{HTTPDATE:timestamp}\\] - %{IPORHOST:attributes.remote_addr} - \\[%{NOTSPACE:attributes.client_app} @ %{NOTSPACE:attributes.client_env}\\] - %{NOTSPACE:attributes.has_irm_group} - %{QUOTEDSTRING:attributes.request} %{NUMBER:errorCode:int} %{NUMBER:body_bytes_sent:float} %{QUOTEDSTRING:attributes.http_referer} %{QUOTEDSTRING:http_user_agent} %{NOTSPACE:upstream_response_time:float} %{GREEDYDATA:attributes.http_x_forwarded_for}"]
      timestamps: ["2/Jan/2006:15:04:05 -0700"]
  - javascript:
      file: "./filebeat.js"
output.console:
    pretty: true

  #================================ Logging =====================================
  # Sets log level. The default log level is info.
  # Available log levels are: error, warning, info, debug
logging.level: info
logging.to_stderr: true
logging.to_files: true
logging.files:
  path: /app/log
  name: filebeat
  interval: 24h
  keepfiles: 10
  permissions: 0644
  # At debug level, you can selectively enable logging only for some components.
  # To enable all selectors use ["*"]. Examples of other selectors are "beat",
  # "publish", "service".
#logging.selectors: ["*"]